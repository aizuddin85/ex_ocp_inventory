---
# Credentials
ansible_become: true
ansible_become_user: root
ansible_ssh_user: cloud-user
ansible_host_key_checking: False
ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

# Skipped Check
openshift_disable_check: memory_availability,disk_availability,docker_storage,docker_image_availability

# Custom Node Group
openshift_node_groups:
  - name: node-config-master
    labels: 
      - 'node-role.kubernetes.io/master=true'
  - name: node-config-infra
    labels: 
      - 'node-role.kubernetes.io/infra=true'
  - name: node-config-compute
    labels:
      - 'node-role.kubernetes.io/compute=true'
  - name: node-config-router
    labels: 
      - 'node-role.kubernetes.io/router=true'

# Version
openshift_release: v3.11.51
openshift_image_tag: v3.11.51
openshift_deployment_type: openshift-enterprise

# Registry.redhat.io creds. get this ServiceAccount from the portal.
oreg_auth_user: '11009103|mzali'
oreg_auth_password: 'eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJjZDFlOGM4OTRmMDQ0ODg3OTVkZDM4OTQ0MmUxYTQ4ZiJ9.fY8932M8CcvSKOuz5kJ_vw_XuynkUfZ_bbf1QtC1rg34GC1moMZYZDQ8iJjnJyUVo5Rvjt0tXv82dlcfn8-CYnyco6QuRYLRUEz_d2YcC9cJWeC8D8cw7-NF1QYt9rXZ-PFGRPkpw2DNbZCauajHQpJfqqxMuDz7_ishHF3qzyWGzSDucMJ1-0aI9asUDL2sRjdkQh2tV1sW4w4BR-nQ-6rn2VSx8OZjD7Wco76i5OEkDNK-KgSn-zDtafKJ1dlxQtr_jP5hbOThk3oBCKtzimJVH2jFL2gdgjzMagwd84aDwVeq6G4-rjsoRsKrUG0C1n3stH4844J5NvINC8lGAMgWCuFuB7lhGJmaH9kWMMxamSN-pWbrm8xWqg6MQ9PdbZ7dRo7cTi8kcm-NUGTqmExM7TYW4Mby-R7HEJGnUy3l5AoHs4aDrFN5xSrqHjzXYS8kaYN6E8RvGlVs4UHIkFLk328KJhvH0P2q1PHuNRFF7uD0gdk6EsGPTWmgbl0zjyknsI_VfvId0XbUB8cHxpRaC4jlHgavjQEcI0FbZQ2Xi8EGnN73dCpe5ODtHWe365xcdaANtER9G9id6-bNHFKI_12JLLG33OiDNWMAi3ICBDALY2kZPYnhyX-aPHl3vPKHei1qA-VwT9xZZjamXysZXApoozk-pbfVRx_LvFk'

# Identity
openshift_master_identity_providers: 
  - name: 'htpasswd_auth'
    login: 'true'
    challenge: 'true'
    kind: 'HTPasswdPasswordIdentityProvider'

openshift_master_htpasswd_users:
  ocpadmin: '$apr1$JZBsFG4.$AEaT..lHooqETQHwXgYE2.'

# Master & Node configs
debug_level: 3
openshift_docker_options: "-l warn --ipv6=false"
openshift_master_pod_eviction_timeout: 1m
openshift_master_min_tls_version: VersionTLS12
openshift_node_min_tls_version: VersionTLS12

# Hostnames
openshift_master_cluster_hostname: ocp-int-prod.bytewise.com.my
openshift_master_cluster_public_hostname: ocp-con-prod.bytewise.com.my
openshift_master_default_subdomain: cloudapps.bytewise.com.my

# Certs
openshift_master_overwrite_named_certificates: true
## Master API Cert
openshift_master_named_certificates: [{ "certfile": "/root/ocp/openshift-master.crt", "keyfile": "/root/ocp/openshift-master.key", "names": ["ocp-con-prod.bytewise.com.my"], "cafile": "/root/ocp/myCA.pem" }]
openshift_hosted_router_certificate: { "certfile": "/root/ocp/openshift-wildcard.crt", "keyfile": "/root/ocp/openshift-wildcard.key", "cafile": "/root/ocp/myCA.pem" }

# Networking
openshift_portal_net: 10.51.0.0/16
osm_cluster_network_cidr: 10.50.0.0/16
osm_host_subnet_length: 9

## Catalog Service
openshift_enable_service_catalog: true
template_service_broker_install: true
openshift_install_examples: true

# Node selector
osm_default_node_selector: 'node-role.kubernetes.io/compute=true'
openshift_hosted_router_selector: 'node-role.kubernetes.io/router=true'

# Registry
openshift_hosted_registry_selector: 'node-role.kubernetes.io/infra=true'

# Clock
openshift_clock_enabled: true

# Router Replica
openshift_hosted_router_replicas: 1

# Prometheus
openshift_cluster_monitoring_operator_install=false
